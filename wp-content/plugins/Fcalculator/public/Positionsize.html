<!DOCTYPE html>
<html lang="en">

<head>
  <title>Position size CALCULATOR </title>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css">
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js"></script>
</head>

<body>

  <div class="container">
    <h2>Position size CALCULATOR </h2>
    <form method="post">


      <div class="form-group">
        <label for="AccountSize">Account Size:</label>
        <input type="text" class="form-control" id="AccountSize" placeholder="10000" name="AccountSize">
      </div>

      <div class="form-group">
        <label for="RiskPerTrade">Risk Per Trade:</label>
        <input type="text" class="form-control" id="RiskPerTrade" placeholder="10%" name="RiskPerTrade">
      </div>


      <div class="form-group">
        <label for="AccountSize">Stop Loss (pips):</label>
        <input type="text" class="form-control" id="StopLossInPips" placeholder="0" name="StopLossInPips">
      </div>



      <hr>
      Result: <div id="Result"> </div>

    </form>
  </div>

</body>


<script type="text/javascript">

  /*
  Example 

Position size = (Account size ×% risk per trade)/ (stop loss in pips × pip value)
Standard account

For a standard size pip value = $10

= ($10,000 x 1%)/ (30 x 10), 100/300

= 0.33


Mini Account

For mini size, pip value =$1

Position size = (Account size ×% risk per trade)/ (stop loss in pips × pip value)

= ($10,000 x 1%)/ (30 x $1),= 100/30

= 3.33

Micro Account

For a Micro size, pip value =$0.1

Position size = (Account size ×% risk per trade)/ (stop loss in pips × pip value)

= ($10,000 x 1%)/ (30 x $0.1), =100/3

= 33.33

  
  */



  $(document).ready(function () {
    $('#StopLossInPips').keyup(function () {
      var AccountSize = $('#AccountSize').val();

      var RiskPerTrade = $('#RiskPerTrade').val();
      var StopLossInPips = $('#StopLossInPips').val();
      // var PipValue = $('#PipValue').val();

      /*
         stander
      Position size = (Account size ×% risk per trade)/ (stop loss in pips × pip value)
      
      = ($10,000 x 1%)/ (30 x 10), 100/300
      
      = 0.33
      
          min acount
      Position size = (Account size ×% risk per trade)/ (stop loss in pips × pip value)
      
      = ($10,000 x 1%)/ (30 x $1),= 100/30
      
         Micro Account
      Position size = (Account size ×% risk per trade)/ (stop loss in pips × pip value)
      
      = ($10,000 x 1%)/ (30 x $0.1), =100/3
      
      = 33.33
      */
      $.ajax({
        type: 'post',
        data: {
          AccountSize: AccountSize,
          RiskPerTrade: RiskPerTrade,
          StopLossInPips: StopLossInPips
        },
        success: function (response) {

          var StanderPositionSize = (AccountSize * (RiskPerTrade / 100)) / (StopLossInPips * 10);
          console.log("Stander lot:" + StanderPositionSize.toFixed(4));

          var MinPositionSize = (AccountSize * (RiskPerTrade / 100)) / (StopLossInPips * 1);
          console.log("Min lot :" + MinPositionSize.toFixed(4));


          var MicroPositionSize = (AccountSize * (RiskPerTrade / 100)) / (StopLossInPips * 0.1);
          console.log("Micro lot:" + MicroPositionSize.toFixed(4));







          $('#Result').text(' StanderPositionSize  : ' + StanderPositionSize);

        }
      });
    });
  });

  // work 
  // $(document).on('click', '#SubmitData', function (e) {
  //   e.preventDefault();




  //   $.ajax({
  //     url: 'ByActivities.aspx',
  //     dataType: 'html',
  //     success: function (data) {
  //       alert("Ajax2");
  //       $('#TableContainer').html($(data).find('#Result'));
  //     },
  //     error: function (data) {
  //       alert("Ajax3");
  //     }
  //   });


  // });
</script>

</html>
